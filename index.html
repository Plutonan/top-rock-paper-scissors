<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissor!</title>
</head>

<body>
    <script>
        const choices = ["rock", "paper", "scissor"];
        const computerPlay = () => choices[Math.floor(Math.random() * choices.length)];
        let playerScore = 0;
        let computerScore = 0;

        const playRound = (playerSelection, computerSelection) => {
            const playerChoice = choices.indexOf(playerSelection);
            const computerChoice = choices.indexOf(computerSelection);
            if (playerSelection === 'rock' && computerSelection === 'scissor' ||
                playerSelection === 'paper' && computerSelection === 'rock' ||
                playerSelection === 'scissor' && computerSelection === 'rock') {
                    playerScore++;
                    return `You Win! The computer picked ${choices[computerChoice]}!`;
            } else if (playerSelection === 'rock' && computerSelection === 'paper' ||
                playerSelection === 'paper' && computerSelection === 'scissor' ||
                playerSelection === 'scissor' && computerSelection === 'rock') {
                    computerScore++;
                    return `You Lose! The computer picked ${choices[computerChoice]}!`;
            } else{
                return "Draw!";
            }
        }

        const game = () => {
            for (let i = 0; i < 5; i++) {
                let playerInput = prompt("Choose Rock, Paper or Scissor").toLocaleLowerCase();

                if (choices.indexOf(playerInput) === -1) {
                    return alert("No Valid Input. Game Restarts");
                }

                let computer = computerPlay();
                playRound(playerInput, computer);
                console.log({"playerScore": playerScore, "computerScore": computerScore});
            }

            if(playerScore > computerScore){
                console.log(`You Won! You Won With A Score Of ${playerScore}`);
            }else if(computerScore > playerScore){
                console.log(`You Lost! Computer Won With A Score Of ${computerScore}`)
            }else{
                console.log(`It's A Tie! Player Score: ${playerScore} - Computer Score: ${computerScore}`)
            }
        }
        game();
    </script>
</body>

</html>