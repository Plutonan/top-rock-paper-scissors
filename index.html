<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link type="text/css" rel="stylesheet" href="./styles.css" />
		<title>Rock, Paper, Scissor!</title>
	</head>

	<body>
		<h1>Rock, Paper, Sicssor</h1>
		<div class="btn-container">
			<button>Rock</button>
			<button>Paper</button>
			<button>Scissor</button>
		</div>
		<div class="announcment"></div>
		<div class="score-container">
			<div class="score-box">
				<div>Player</div>
				<div class="player-score">0</div>
			</div>
			<div class="score-box">
				<div>Computer</div>
				<div class="computer-score">0</div>
			</div>
		</div>
		<script>
			const choices = ["Rock", "Paper", "Scissor"];
			const computerPlay = () =>
				choices[Math.floor(Math.random() * choices.length)];
			let playerScore = 0;
			let computerScore = 0;
			const buttons = document.querySelectorAll("button");
			const playerScoreDiv = document.querySelector(".player-score");
			const computerScoreDiv = document.querySelector(".computer-score");
			const announcment = document.querySelector(".announcment");

			const playRound = (e) => {
				announcment.style.color = "white";
				computerSelection = computerPlay();
				playerSelection = e.target.innerHTML;

				if (
					(playerSelection === "Rock" && computerSelection === "Scissor") ||
					(playerSelection === "Paper" && computerSelection === "Rock") ||
					(playerSelection === "Scissor" && computerSelection === "Paper")
				) {
					playerScore++;
					playerScoreDiv.innerHTML = playerScore;
					announcment.innerHTML = `You Win! The computer picked ${computerSelection}!`;
				} else if (
					(playerSelection === "Rock" && computerSelection === "Paper") ||
					(playerSelection === "Paper" && computerSelection === "Scissor") ||
					(playerSelection === "Scissor" && computerSelection === "Rock")
				) {
					computerScore++;
					computerScoreDiv.innerHTML = computerScore;
					announcment.innerHTML = `You Lose! The computer picked ${computerSelection}!`;
				} else {
					announcment.innerHTML = "Draw!";
				}

				if (playerScore === 5) {
					announcment.innerHTML = `You won with a score of ${playerScore}!`;
					resetStats();
				}
				if (computerScore === 5) {
					announcment.innerHTML = `You lost! Computer won with a score of ${computerScore}`;
					resetStats();
				}
			};
			function resetStats() {
				announcment.style.color = "#27bd83";
				playerScore = 0;
				computerScore = 0;
				computerScoreDiv.innerHTML = 0;
				playerScoreDiv.innerHTML = 0;
			}
			buttons.forEach((button) => {
				button.addEventListener("click", playRound);
			});
		</script>
	</body>
</html>
